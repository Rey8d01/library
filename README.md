Библиотека на Yii 2
=====================

Сайт имеет основной общий раздел (поиск, просмотр книг, регистрация, авторизация),
раздел читателя (отдельный модуль для авторизованных посетителей),
раздел библиотекаря (отдельный модуль управления библиотекой).

Читателям в профиле отображается информация по взятым книгам, имеющимся задолженностям,
имеется возможность написать сообщение библиотекарю.

Библиотекари имеют доступ к модулю управления библиотекой в котором реализованы CRUD панели для книг, авторов, меток, а так же управление
передачей книг пользователям, просмотр пользователей, их сообщений и задолженостей.

Каждая книга содержит следующую информацию:
Название, адрес (ЧПУ), фото, описание, категории (метки), автор.
Библиотекарь может отметить передачу книги читателю, если количество книг в бибилиотеке позволяет это
(количество копий превышает количество экземпляров книги у читателей).

Библиотекарь может выполнять функции читателя. Читатель не имеет доступа к функциям библиотекаря.

Дамп схемы и данных в файле dump.sql

Демо пользователи:
zxc@cvb.ru (пароль: 12345) Библиотекарь
zxv@uuu.ru (пароль: 12345) Читатель

Статус бибилиотекаря определяется по таблице user и меняется из консольного приложения командами
```
./yii admin/set-status-librarian-by-user-id 12345
./yii admin/set-status-reader-by-user-id 12345
```
где устанавливается статус библиотекаря и читателя, для пользователя с Id 12345 соответственно.

Типовая конфигурация nginx
```
server {
    listen 80;
    charset utf-8;
    root /path/to/library/web;
    server_name library.rey;
    index index.php;
    client_max_body_size 5M;

    location / {
        try_files $uri $uri/ /index.php?$args;
    }

    location ~ \.(js|css|ico|htm|html|json)$ {
        try_files $uri =404;
    }

    location ~* \.php {
        include snippets/fastcgi-php.conf;

        fastcgi_param Host $http_host;
        fastcgi_param X-Real-IP $remote_addr;
        fastcgi_param X-Scheme $scheme;

        fastcgi_pass php7fpm;
    }

    location ~ /\.(ht|svn|git) {
        deny all;
    }
}
```
